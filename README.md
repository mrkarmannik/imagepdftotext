**Описание:**  
Простое API на основе FastAPI для обработки файлов различных форматов и извлечения текста. Поддерживает PDF (включая текст и изображения), текстовые файлы, изображения. Использует Tesseract OCR для распознавания текста на изображениях и PyMuPDF для работы с PDF. Все операции логируются в файл `server.log`. Проект упакован в Docker-контейнер для удобного развертывания.

**Основные возможности:**
- Извлечение текста из PDF (включая встроенные изображения).
- Обработка текстовых файлов (`.txt`, `.doc`, `.docx`) с помощью `docling`.
- Распознавание текста на изображениях (`.jpg`, `.png` и др.) с использованием Tesseract OCR (поддержка русского языка).
- Поддержка загрузки файлов через endpoint `/upload/`.
- Автоматическое определение типа файла с помощью `python-magic`.
- Логирование операций и ошибок.

**Технологии:**  
- Python 3.10  
- FastAPI  
- Tesseract OCR  
- PyMuPDF  
- Docling  
- Docker  

---

### Инструкция для запуска контейнера

1. **Сборка Docker-образа**  
   Убедитесь, что у вас установлены Docker и Git. Затем выполните следующие шаги:

   ```bash
   # Клонируйте репозиторий
   git clone <URL_репозитория>
   cd <название_папки>

   # Соберите Docker-образ
   docker build -t file-processing-api .
   ```

2. **Запуск контейнера**  
   После сборки образа запустите контейнер:

   ```bash
   docker run -d -p 8000:8000 --name file-api file-processing-api
   ```

   - `-d`: запуск в фоновом режиме.
   - `-p 8000:8000`: проброс порта 8000 из контейнера на хост.
   - `--name file-api`: имя контейнера.

3. **Проверка работы**  
   После запуска контейнера API будет доступно по адресу `http://localhost:8000`.  
   Документация API доступна по адресу:  
   - Swagger UI: `http://localhost:8000/docs`  
   - ReDoc: `http://localhost:8000/redoc`

4. **Тестирование API**  
   Вы можете загрузить файл через endpoint `/upload/` с помощью `curl` или любого HTTP-клиента (например, Postman):

   ```bash
   curl -X POST "http://localhost:8000/upload/" -F "file=@<путь_к_файлу>"
   ```

   Пример ответа:
   ```json
   {
     "filename": "example.pdf",
     "text": "Извлеченный текст из файла..."
   }
   ```

5. **Остановка контейнера**  
   Чтобы остановить контейнер, выполните:

   ```bash
   docker stop file-api
   ```

6. **Логи**  
   Логи обработки файлов сохраняются внутри контейнера в файле `/home/appuser/server.log`. Для просмотра:

   ```bash
   docker exec -it file-api cat /home/appuser/server.log
   ```

---

### Примечания
- Убедитесь, что у вас достаточно оперативной памяти для работы с большими файлами, так как Tesseract и PyMuPDF могут быть ресурсоемкими.
- Поддерживаемые форматы файлов: PDF, изображения (JPEG, PNG), текстовые файлы (TXT, DOC, DOCX).  
- Для работы с русским языком в OCR используется пакет `tesseract-ocr-rus`.
